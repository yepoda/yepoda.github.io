<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>web自动化测试（python+selenium）</title>
    <url>/2020/051852901.html</url>
    <content><![CDATA[<h2 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h2><h3 id="Python安装"><a href="#Python安装" class="headerlink" title="Python安装"></a>Python安装</h3><h4 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h4><p><a href="https://www.python.org/">https://www.python.org/</a></p>
<h4 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h4><h5 id="下载文件"><a href="#下载文件" class="headerlink" title="下载文件"></a>下载文件</h5><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">wget</span> https://www.python.org/ftp/python/3.6.8/Python-3.6.8.tar.xz<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h5 id="进行安装"><a href="#进行安装" class="headerlink" title="进行安装"></a>进行安装</h5><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">　　　　<span class="token function">tar</span> xf Python-3.7.1.tar.xz
　　　　<span class="token builtin class-name">cd</span> Python-3.7.1
　　　　yum <span class="token parameter variable">-y</span> <span class="token function">install</span> gcc-* openssl-* libffi-devel sqlite-devel
　　　　./configure --enable-optimizations --with-openssl<span class="token operator">=</span>/usr/bin/openssl
　　　　<span class="token function">make</span> <span class="token parameter variable">-j4</span>
　　　　<span class="token function">make</span> <span class="token function">install</span>
　　　　默认安装路径：/usr/local/lib/python3.7<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="更改安装源"><a href="#更改安装源" class="headerlink" title="更改安装源"></a>更改安装源</h5><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pip3 config <span class="token builtin class-name">set</span> global.index-url https://pypi.tuna.tsinghua.edu.cn/simple<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h5 id="升级pip"><a href="#升级pip" class="headerlink" title="升级pip"></a>升级pip</h5><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pip3 <span class="token function">install</span> <span class="token parameter variable">--upgrade</span> pip<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h5 id="安装虚拟环境工具"><a href="#安装虚拟环境工具" class="headerlink" title="安装虚拟环境工具"></a>安装虚拟环境工具</h5><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pip3 <span class="token function">install</span> virtualenv<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h5 id="创建虚拟环境"><a href="#创建虚拟环境" class="headerlink" title="创建虚拟环境"></a>创建虚拟环境</h5><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">virtualenv web01<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h5 id="切换到虚拟环境"><a href="#切换到虚拟环境" class="headerlink" title="切换到虚拟环境"></a>切换到虚拟环境</h5><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">source</span> web01/bin/activate<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h5 id="退出虚拟环境"><a href="#退出虚拟环境" class="headerlink" title="退出虚拟环境"></a>退出虚拟环境</h5><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">　　　deactivate<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h3 id="Selenium"><a href="#Selenium" class="headerlink" title="Selenium"></a>Selenium</h3><h4 id="检查"><a href="#检查" class="headerlink" title="检查"></a>检查</h4><p>打开dos窗口输入：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pip<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>正常应显示以下内容：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Usage:
  pip <span class="token operator">&lt;</span>command<span class="token operator">></span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span>

Commands:
  <span class="token function">install</span>                     Install packages.
  download                    Download packages.
  uninstall                   Uninstall packages.
  freeze                      Output installed packages <span class="token keyword">in</span> requirements format.
  list                        List installed packages.
  show                        Show information about installed packages.
  check                       Verify installed packages have compatible dependencies.
  config                      Manage <span class="token builtin class-name">local</span> and global configuration.
  search                      Search PyPI <span class="token keyword">for</span> packages.
  wheel                       Build wheels from your requirements.
  <span class="token builtin class-name">hash</span>                        Compute hashes of package archives.
  completion                  A helper <span class="token builtin class-name">command</span> used <span class="token keyword">for</span> <span class="token builtin class-name">command</span> completion.
  <span class="token builtin class-name">help</span>                        Show <span class="token builtin class-name">help</span> <span class="token keyword">for</span> commands.

General Options:
  -h, <span class="token parameter variable">--help</span>                  Show help.
  <span class="token parameter variable">--isolated</span>                  Run pip <span class="token keyword">in</span> an isolated mode, ignoring environment variables and user configuration.
  -v, <span class="token parameter variable">--verbose</span>               Give <span class="token function">more</span> output. Option is additive, and can be used up to <span class="token number">3</span> times.
  -V, <span class="token parameter variable">--version</span>               Show version and exit.
  -q, <span class="token parameter variable">--quiet</span>                 Give <span class="token function">less</span> output. Option is additive, and can be used up to <span class="token number">3</span> <span class="token builtin class-name">times</span> <span class="token punctuation">(</span>corresponding to
                              WARNING, ERROR, and CRITICAL logging levels<span class="token punctuation">)</span>.
  <span class="token parameter variable">--log</span> <span class="token operator">&lt;</span>path<span class="token operator">></span>                Path to a verbose appending log.
  <span class="token parameter variable">--proxy</span> <span class="token operator">&lt;</span>proxy<span class="token operator">></span>             Specify a proxy <span class="token keyword">in</span> the form <span class="token punctuation">[</span>user:passwd@<span class="token punctuation">]</span>proxy.server:port.
  <span class="token parameter variable">--retries</span> <span class="token operator">&lt;</span>retries<span class="token operator">></span>         Maximum number of retries each connection should attempt <span class="token punctuation">(</span>default <span class="token number">5</span> <span class="token builtin class-name">times</span><span class="token punctuation">)</span>.
  <span class="token parameter variable">--timeout</span> <span class="token operator">&lt;</span>sec<span class="token operator">></span>             Set the socket <span class="token function">timeout</span> <span class="token punctuation">(</span>default <span class="token number">15</span> seconds<span class="token punctuation">)</span>.
  --exists-action <span class="token operator">&lt;</span>action<span class="token operator">></span>    Default action when a path already exists: <span class="token punctuation">(</span>s<span class="token punctuation">)</span>witch, <span class="token punctuation">(</span>i<span class="token punctuation">)</span>gnore, <span class="token punctuation">(</span>w<span class="token punctuation">)</span>ipe, <span class="token punctuation">(</span>b<span class="token punctuation">)</span>ackup,
                              <span class="token punctuation">(</span>a<span class="token punctuation">)</span>bort<span class="token punctuation">)</span>.
  --trusted-host <span class="token operator">&lt;</span>hostname<span class="token operator">></span>   Mark this <span class="token function">host</span> as trusted, even though it does not have valid or any HTTPS.
  <span class="token parameter variable">--cert</span> <span class="token operator">&lt;</span>path<span class="token operator">></span>               Path to alternate CA bundle.
  --client-cert <span class="token operator">&lt;</span>path<span class="token operator">></span>        Path to SSL client certificate, a single <span class="token function">file</span> containing the private key and the
                              certificate <span class="token keyword">in</span> PEM format.
  --cache-dir <span class="token operator">&lt;</span>dir<span class="token operator">></span>           Store the cache data <span class="token keyword">in</span> <span class="token operator">&lt;</span>dir<span class="token operator">></span>.
  --no-cache-dir              Disable the cache.
  --disable-pip-version-check
                              Don't periodically check PyPI to determine whether a new version of pip is available <span class="token keyword">for</span>
                              download. Implied with --no-index.
  --no-color                  Suppress colored output<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>dos输入在线安装selenium指令：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pip <span class="token function">install</span> <span class="token assign-left variable">selenium</span><span class="token operator">==</span><span class="token number">2.53</span>.6<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="验证安装"><a href="#验证安装" class="headerlink" title="验证安装"></a>验证安装</h4><p>确保已经安装Firefox&#x2F;Chrome&#x2F;Ie浏览器中的一个</p>
<p>以Firefox为例（Firefox请安装46以下的版本），打开dos窗口输入指令：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">python
from selenium <span class="token function">import</span> webdriver
webdriver.Firefox<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>如果Firefox浏览器被调用启动，则表示selenium安装成功，其他浏览器请查阅“浏览器驱动”</p>
<h4 id="浏览器驱动"><a href="#浏览器驱动" class="headerlink" title="浏览器驱动"></a>浏览器驱动</h4><h5 id="Firefox"><a href="#Firefox" class="headerlink" title="Firefox"></a>Firefox</h5><p>请勿安装47以上的版本（selenium2不兼容47以上版本）</p>
<p>firefox历年版本的官方镜像地址：<br><a href="https://download-installer.cdn.mozilla.net/pub/firefox/releases/">https://download-installer.cdn.mozilla.net/pub/firefox/releases/</a></p>
<h5 id="Chrome"><a href="#Chrome" class="headerlink" title="Chrome"></a>Chrome</h5><p>selenium启动Chrome浏览器需要安装驱动包，不同的Chrome浏览器版本号对应的驱动文件版本号也不同，若不匹配，则无法启动。</p>
<p>查看Chrome版本号？</p>
<p>浏览器内：设置-&gt;关于-&gt;版本号</p>
<p>浏览器外：打开Chrome安装文件夹</p>
<p>Chrome浏览器chromedriver各版本驱动大全，下载地址：<br><a href="http://chromedriver.storage.googleapis.com/index.html">http://chromedriver.storage.googleapis.com/index.html</a></p>
<p>下载驱动成功后，确保chromedriver.exe文件放置于path路径下，我之前将环境变量配置到了python根目录，所以一般将chromedriver.exe放置于python安装的根目录。</p>
<h5 id="IE"><a href="#IE" class="headerlink" title="IE"></a>IE</h5><p>IE浏览器的IEdriver各版本驱动大全，下载地址：<br><a href="http://selenium-release.storage.googleapis.com/index.html">http://selenium-release.storage.googleapis.com/index.html</a></p>
<h2 id="selenium之webdriver框架"><a href="#selenium之webdriver框架" class="headerlink" title="selenium之webdriver框架"></a>selenium之webdriver框架</h2><h3 id="webdriver-API"><a href="#webdriver-API" class="headerlink" title="webdriver API"></a>webdriver API</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 导入webdriver模块</span>
<span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver

<span class="token comment"># 导入计时器模块</span>
<span class="token keyword">import</span> time

<span class="token comment"># 打开Chrome浏览器</span>
<span class="token comment"># 其他浏览器替换浏览器名即可</span>
driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 使用webdriver模块api导入网址</span>
driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"https://auntyang.tk"</span><span class="token punctuation">)</span>

<span class="token comment"># 计时器6s等待时间，一些异常报错可能就是因为没有在语句下设置等待时间</span>
<span class="token comment"># time模块的单位是s（秒），参数可以是小数也可以是整数</span>
time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>

<span class="token comment"># 截屏保存到指定目录，参数格式：保存路径+文件名称+后缀</span>
driver<span class="token punctuation">.</span>get_screenshot_as_file<span class="token punctuation">(</span><span class="token string">"D:\\test.jgp"</span><span class="token punctuation">)</span>

<span class="token comment"># 设置指定浏览器窗口尺寸</span>
driver<span class="token punctuation">.</span>set_window_size<span class="token punctuation">(</span><span class="token number">540</span><span class="token punctuation">,</span> <span class="token number">960</span><span class="token punctuation">)</span>
<span class="token comment"># 设置浏览器窗口最大化</span>
driver<span class="token punctuation">.</span>maximize_window<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 上一页，相当于浏览器左上角的左箭头按钮</span>
driver<span class="token punctuation">.</span>back<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 下一页，相当于浏览器左上角的右箭头按钮</span>
driver<span class="token punctuation">.</span>forward<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 使用webdriver模块api进行刷新</span>
<span class="token comment"># 相当于浏览器输入框后面的刷新按钮</span>
driver<span class="token punctuation">.</span>refresh<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 结束浏览器进程</span>
driver<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 关闭当前窗口</span>
driver<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="元素定位"><a href="#元素定位" class="headerlink" title="元素定位"></a>元素定位</h3><p>webdriver框架提供了18种元素定位方法，前8种通过元素属性定位，后10种通过xpan和css定位</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#id定位：</span>
find_element_by_id<span class="token punctuation">(</span>self<span class="token punctuation">,</span> id_<span class="token punctuation">)</span>
<span class="token comment">#name定位：</span>
find_element_by_name<span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span>
<span class="token comment">#class定位：</span>
find_element_by_class_name<span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span>
<span class="token comment">#tag定位：</span>
find_element_by_tag_name<span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span>
<span class="token comment">#link定位：</span>
find_element_by_link_text<span class="token punctuation">(</span>self<span class="token punctuation">,</span> link_text<span class="token punctuation">)</span>
<span class="token comment">#partial_link定位</span>
find_element_by_partial_link_text<span class="token punctuation">(</span>self<span class="token punctuation">,</span> link_text<span class="token punctuation">)</span>
<span class="token comment">#xpath定位：</span>
find_element_by_xpath<span class="token punctuation">(</span>self<span class="token punctuation">,</span> xpath<span class="token punctuation">)</span>
<span class="token comment">#css定位：</span>
find_element_by_css_selector<span class="token punctuation">(</span>self<span class="token punctuation">,</span> css_selector）<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>复数形式：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#id复数定位</span>
find_elements_by_id<span class="token punctuation">(</span>self<span class="token punctuation">,</span> id_<span class="token punctuation">)</span>
<span class="token comment">#name复数定位</span>
find_elements_by_name<span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span>
<span class="token comment">#class复数定位</span>
find_elements_by_class_name<span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span>
<span class="token comment">#tag复数定位</span>
find_elements_by_tag_name<span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span>
<span class="token comment">#link复数定位</span>
find_elements_by_link_text<span class="token punctuation">(</span>self<span class="token punctuation">,</span> text<span class="token punctuation">)</span>
<span class="token comment">#partial_link复数定位</span>
find_elements_by_partial_link_text<span class="token punctuation">(</span>self<span class="token punctuation">,</span> link_text<span class="token punctuation">)</span>
<span class="token comment">#xpath复数定位</span>
find_elements_by_xpath<span class="token punctuation">(</span>self<span class="token punctuation">,</span> xpath<span class="token punctuation">)</span>
<span class="token comment">#css复数定位</span>
find_elements_by_css_selector<span class="token punctuation">(</span>self<span class="token punctuation">,</span> css_selector<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>参数化方法：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">find_element<span class="token punctuation">(</span>self<span class="token punctuation">,</span> by<span class="token operator">=</span><span class="token string">'id'</span><span class="token punctuation">,</span> value<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span>
find_elements<span class="token punctuation">(</span>self<span class="token punctuation">,</span> by<span class="token operator">=</span><span class="token string">'id'</span><span class="token punctuation">,</span> value<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h3 id="xpath定位"><a href="#xpath定位" class="headerlink" title="xpath定位"></a>xpath定位</h3><h4 id="标签"><a href="#标签" class="headerlink" title="标签"></a>标签</h4><p>1.有时候同一个属性，同名的比较多，这时候可以通过标签筛选下，定位更准一点<br>2.如果不想制定标签名称，可以用*号表示任意标签<br>3.如果想制定具体某个标签，就可以直接写标签名称</p>
<h4 id="层级"><a href="#层级" class="headerlink" title="层级"></a>层级</h4><p>1.当某个元素属性不明显，无法直接定位时，可以先找其父元素</p>
<p>2.找到父元素后，向下一个层级就能定位到该元素</p>
<h4 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h4><p>1.某元素标签和另一元素标签一样，且无法通过层级定位时，属于同父元素</p>
<p>2.同父元素的元素存在顺序，用索引定位</p>
<h4 id="逻辑运算"><a href="#逻辑运算" class="headerlink" title="逻辑运算"></a>逻辑运算</h4><p>1.xpath可以对多个属性进行逻辑运算，支持与（and）、或（or）、非（not）</p>
<h4 id="模糊匹配"><a href="#模糊匹配" class="headerlink" title="模糊匹配"></a>模糊匹配</h4><p>1.xpath可以对元素进行模糊匹配</p>
<h4 id="小测试"><a href="#小测试" class="headerlink" title="小测试"></a>小测试</h4><p>编写脚本，打开百度首页，输入关键字“robotframework”，点击搜索</p>
<p>结果如下图所示：</p>
<p><img src="https://img-blog.csdnimg.cn/20200523164846936.gif" alt="Web自动化测试"></p>
<h3 id="CSS定位"><a href="#CSS定位" class="headerlink" title="CSS定位"></a>CSS定位</h3><pre class="line-numbers language-none"><code class="language-none"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>自动化测试</tag>
        <tag>python</tag>
        <tag>selenium</tag>
      </tags>
  </entry>
  <entry>
    <title>使用网络协议分析仪Wireshark</title>
    <url>/2020/051610680.html</url>
    <content><![CDATA[<h1 id="实验名称-使用网络协议分析仪Wireshark"><a href="#实验名称-使用网络协议分析仪Wireshark" class="headerlink" title="实验名称  使用网络协议分析仪Wireshark"></a>实验名称  使用网络协议分析仪Wireshark</h1><h2 id="实验目的："><a href="#实验目的：" class="headerlink" title="实验目的："></a>实验目的：</h2><ol>
<li>掌握安装和配置网络协议分析仪Wireshark的方法；</li>
<li>熟悉使用Wireshark工具分析网络协议的基本方法，加深对协议格式、协议层次和协议交互过程的理解。</li>
</ol>
<h2 id="实验内容和要求"><a href="#实验内容和要求" class="headerlink" title="实验内容和要求"></a>实验内容和要求</h2><pre class="line-numbers language-none"><code class="language-none">1. 安装和配置网络协议分析仪Wireshark（http:&#x2F;&#x2F;www.wireshark.org）；
	2. 使用并熟悉Wireshark分析协议的界面环境（菜单、工具条和各种窗口等）。
	3. 学会使用Wireshark捕捉协议包。<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h2 id="实验环境"><a href="#实验环境" class="headerlink" title="实验环境"></a>实验环境</h2><pre class="line-numbers language-none"><code class="language-none">1.运行Windows 10专业版操作系统的PC机一台
	2.PC具有以太网卡一块，通过双绞线与局域网相连
	3.已安装Wireshark与Cisco Packet Tracer程序<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h2 id="操作方法与实验步骤"><a href="#操作方法与实验步骤" class="headerlink" title="操作方法与实验步骤"></a>操作方法与实验步骤</h2><h3 id="1-安装网络协议分析仪"><a href="#1-安装网络协议分析仪" class="headerlink" title="1.安装网络协议分析仪"></a>1.安装网络协议分析仪</h3><p><img src="https://s2.loli.net/2023/03/26/PAIblrYFoBu4haO.png" alt="Wireshark首页"><br>安装成功并运行，进入主界面如图，（可以点击图片跳转Wireshark官网下载）我这里安装的版本是3.0.9，进入自动为中文界面，Wireshark进入后界面如上图没有任何本地接口，检查后发现未安装Winpacp，安装Winpacp后重启Wireshark，正常运行。</p>
<h3 id="2-使用Wireshark分析协议"><a href="#2-使用Wireshark分析协议" class="headerlink" title="2.使用Wireshark分析协议"></a>2.使用Wireshark分析协议</h3><h4 id="（1）点击Wireshark启动程序，正常运行如图"><a href="#（1）点击Wireshark启动程序，正常运行如图" class="headerlink" title="（1）点击Wireshark启动程序，正常运行如图"></a>（1）点击Wireshark启动程序，正常运行如图</h4><p><img src="https://img-blog.csdnimg.cn/20200516175003774.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0MTc2NjIw,size_16,color_FFFFFF,t_70" alt="Wireshark首页"><br>其中捕获和分析是最重要的功能</p>
<h4 id="（2）分组捕获"><a href="#（2）分组捕获" class="headerlink" title="（2）分组捕获"></a>（2）分组捕获</h4><p><img src="https://img-blog.csdnimg.cn/20200516191047640.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0MTc2NjIw,size_16,color_FFFFFF,t_70" alt="Wireshark捕获接口"><br>开始分组捕获之前选择捕获接口，我所使用的网络是网线接入电脑的有线网，所以我选择的是捕获接口是以太网。</p>
<h4 id="（3）协议分析。"><a href="#（3）协议分析。" class="headerlink" title="（3）协议分析。"></a>（3）协议分析。</h4><p><img src="https://img-blog.csdnimg.cn/20200516191115617.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0MTc2NjIw,size_16,color_FFFFFF,t_70" alt="Wireshark以太网监听"><br>监听以太网接口得到的报文信息，如上图，其中有一条黑色底色的TCP报文信息*。<br><img src="https://img-blog.csdnimg.cn/20200516191158370.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0MTc2NjIw,size_16,color_FFFFFF,t_70" alt="Wireshark以太网监听"><br>选择序号为191的一条报文信息进行分析，从蓝框可知该报文的发送源地址为223.166.151.88，目标地址为192.168.31.97，而目标地址192。168.31.97为我的专用网地址（路由器分配给笔记本的内网IP），源地址经查询地址为上海市，是一个公网IP，很明显该报文由外部网络发送至我的内网。<br>该报文的协议为OICQ，起初并不知道这个协议，但在中间信息框中发现该报文信息中包含了我的QQ号，由此推断OICQ为QQ通信协议，经过查询，OICQ为QQ的通讯协议，OICQ用户到OICQ服务器的通讯协议。<br><img src="https://img-blog.csdnimg.cn/20200516191237382.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0MTc2NjIw,size_16,color_FFFFFF,t_70" alt="Wireshark以太网监听"><br>进入191号报文信息具体页，可看到报文具体信息和十六进制和ASCI码形式的报文内容。<br>这一帧包包含一下四种信息：<br>Frame: 物理层的数据帧情况。<br>Ethernet II , Src: 数据链路层以太网帧头部信息。<br>Internet Protocol Version 4, Src: 互联网层IP包头信息。<br>Internet Control Message Protocol: 互联网控制信息协议。ping 小包所使用的协议。<br>前三层基本上都是一样的，第四层开始就可以出现TCP, UDP 协议，第五层就可能有HTTP 应用层协议等等。<br><img src="https://img-blog.csdnimg.cn/20200516191313947.png" alt="帧结构"><br>由该栏信息可知，该报文源地址服务器端口为8000，目标端口为4004，报文长度为127，总和校验码（Checksum）为0xe51f。<br><img src="https://img-blog.csdnimg.cn/20200516191327952.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0MTc2NjIw,size_16,color_FFFFFF,t_70" alt="帧结构"><br>协议层信息，协议为OICQ（即时通讯软件协议）包含目标、版本、数据等信息。</p>
<h4 id="（4）保存分组捕获信息"><a href="#（4）保存分组捕获信息" class="headerlink" title="（4）保存分组捕获信息"></a>（4）保存分组捕获信息</h4><h2 id="实验数据记录和结果分析"><a href="#实验数据记录和结果分析" class="headerlink" title="实验数据记录和结果分析"></a>实验数据记录和结果分析</h2><p>实验数据与结果分析：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Frame <span class="token number">191</span>: <span class="token number">161</span> bytes on wire <span class="token punctuation">(</span><span class="token number">1288</span> bits<span class="token punctuation">)</span>, <span class="token number">161</span> bytes captured <span class="token punctuation">(</span><span class="token number">1288</span> bits<span class="token punctuation">)</span> on interface <span class="token number">0</span>
//第191帧，由161个字节在线，共1288位，实际捕获到161个字节在0接口
    Interface id: <span class="token number">0</span> <span class="token punctuation">(</span><span class="token punctuation">\</span>Device<span class="token punctuation">\</span>NPF_<span class="token punctuation">&#123;</span>7E2C33C0-0623-46BB-9126-813FB633578B<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>//接口ID：0
        Interface name: <span class="token punctuation">\</span>Device<span class="token punctuation">\</span>NPF_<span class="token punctuation">&#123;</span>7E2C33C0-0623-46BB-9126-813FB633578B<span class="token punctuation">&#125;</span>
        Interface description: <span class="token punctuation">\</span><span class="token number">344</span><span class="token punctuation">\</span><span class="token number">273</span><span class="token punctuation">\</span><span class="token number">245</span><span class="token punctuation">\</span><span class="token number">345</span><span class="token punctuation">\</span><span class="token number">244</span><span class="token punctuation">\</span><span class="token number">252</span><span class="token punctuation">\</span><span class="token number">347</span><span class="token punctuation">\</span><span class="token number">275</span><span class="token punctuation">\</span><span class="token number">221</span>
    Encapsulation type: Ethernet <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>//封装类型
    Arrival Time: Mar <span class="token number">13</span>, <span class="token number">2020</span> <span class="token number">15</span>:22:45.526314000 中国标准时间//到达时间
    <span class="token punctuation">[</span>Time <span class="token builtin class-name">shift</span> <span class="token keyword">for</span> this packet: <span class="token number">0.000000000</span> seconds<span class="token punctuation">]</span>//包偏移时间
    Epoch Time: <span class="token number">1584084165.526314000</span> seconds//不理解
    <span class="token punctuation">[</span>Time delta from previous captured frame: <span class="token number">0.027360000</span> seconds<span class="token punctuation">]</span>//两帧之间的时间间隔
    <span class="token punctuation">[</span>Time delta from previous displayed frame: <span class="token number">0.027360000</span> seconds<span class="token punctuation">]</span>//捕获到显示的间隔时间
    <span class="token punctuation">[</span>Time since reference or first frame: <span class="token number">3.969859000</span> seconds<span class="token punctuation">]</span>//此包和第一帧的时间间隔
    Frame Number: <span class="token number">191</span>//帧号
    Frame Length: <span class="token number">161</span> bytes <span class="token punctuation">(</span><span class="token number">1288</span> bits<span class="token punctuation">)</span>//帧长度
    Capture Length: <span class="token number">161</span> bytes <span class="token punctuation">(</span><span class="token number">1288</span> bits<span class="token punctuation">)</span>//捕获的帧长度
    <span class="token punctuation">[</span>Frame is marked: False<span class="token punctuation">]</span>//帧显著标志
    <span class="token punctuation">[</span>Frame is ignored: False<span class="token punctuation">]</span>//帧忽略标志
    <span class="token punctuation">[</span>Protocols <span class="token keyword">in</span> frame: eth:ethertype:ip:udp:oicq<span class="token punctuation">]</span>//帧内封装的协议层次结构
    <span class="token punctuation">[</span>Coloring Rule Name: UDP<span class="token punctuation">]</span>//着色标记的协议
    <span class="token punctuation">[</span>Coloring Rule String: udp<span class="token punctuation">]</span>//着色规则显示的字符串
Ethernet II, Src: XiaomiEl_ee:46:6f <span class="token punctuation">(</span><span class="token number">40</span>:31:3c:ee:46:6f<span class="token punctuation">)</span>, Dst: LcfcHefe_c2:10:c2 <span class="token punctuation">(</span>e8:6a:64:c2:10:c2<span class="token punctuation">)</span>
    Destination: LcfcHefe_c2:10:c2 <span class="token punctuation">(</span>e8:6a:64:c2:10:c2<span class="token punctuation">)</span>
        Address: LcfcHefe_c2:10:c2 <span class="token punctuation">(</span>e8:6a:64:c2:10:c2<span class="token punctuation">)</span>
        <span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token punctuation">..</span><span class="token number">0</span>. <span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token operator">=</span> LG bit: Globally unique address <span class="token punctuation">(</span>factory default<span class="token punctuation">)</span>
        <span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token punctuation">..</span>.0 <span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token operator">=</span> IG bit: Individual address <span class="token punctuation">(</span>unicast<span class="token punctuation">)</span>
    Source: XiaomiEl_ee:46:6f <span class="token punctuation">(</span><span class="token number">40</span>:31:3c:ee:46:6f<span class="token punctuation">)</span>
        Address: XiaomiEl_ee:46:6f <span class="token punctuation">(</span><span class="token number">40</span>:31:3c:ee:46:6f<span class="token punctuation">)</span>
        <span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token punctuation">..</span><span class="token number">0</span>. <span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token operator">=</span> LG bit: Globally unique address <span class="token punctuation">(</span>factory default<span class="token punctuation">)</span>
        <span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token punctuation">..</span>.0 <span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token operator">=</span> IG bit: Individual address <span class="token punctuation">(</span>unicast<span class="token punctuation">)</span>
    Type: IPv4 <span class="token punctuation">(</span>0x0800<span class="token punctuation">)</span>
Internet Protocol Version <span class="token number">4</span>, Src: <span class="token number">223.166</span>.151.88, Dst: <span class="token number">192.168</span>.31.97
    0100 <span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token operator">=</span> Version: <span class="token number">4</span>
    <span class="token punctuation">..</span><span class="token punctuation">..</span> 0101 <span class="token operator">=</span> Header Length: <span class="token number">20</span> bytes <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
    Differentiated Services Field: 0x00 <span class="token punctuation">(</span>DSCP: CS0, ECN: Not-ECT<span class="token punctuation">)</span>
        0000 00<span class="token punctuation">..</span> <span class="token operator">=</span> Differentiated Services Codepoint: Default <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token punctuation">..</span>00 <span class="token operator">=</span> Explicit Congestion Notification: Not ECN-Capable Transport <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
    Total Length: <span class="token number">147</span>
    Identification: 0x8fa2 <span class="token punctuation">(</span><span class="token number">36770</span><span class="token punctuation">)</span>
    Flags: 0x4000, Don<span class="token string">'t fragment
        0... .... .... .... = Reserved bit: Not set
        .1.. .... .... .... = Don'</span>t fragment: Set
        <span class="token punctuation">..</span><span class="token number">0</span>. <span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token punctuation">..</span><span class="token punctuation">..</span> <span class="token operator">=</span> More fragments: Not <span class="token builtin class-name">set</span>
    <span class="token punctuation">..</span>.0 0000 0000 0000 <span class="token operator">=</span> Fragment offset: <span class="token number">0</span>
    Time to live: <span class="token number">52</span>
    Protocol: UDP <span class="token punctuation">(</span><span class="token number">17</span><span class="token punctuation">)</span>
    Header checksum: 0x5faf <span class="token punctuation">[</span>validation disabled<span class="token punctuation">]</span>
    <span class="token punctuation">[</span>Header checksum status: Unverified<span class="token punctuation">]</span>
    Source: <span class="token number">223.166</span>.151.88
    Destination: <span class="token number">192.168</span>.31.97
User Datagram Protocol, Src Port: <span class="token number">8000</span>, Dst Port: <span class="token number">4004</span>
    Source Port: <span class="token number">8000</span>//源IP
    Destination Port: <span class="token number">4004</span>//目标IP
    Length: <span class="token number">127</span>//长度
    Checksum: 0xe51f <span class="token punctuation">[</span>unverified<span class="token punctuation">]</span>//和校验
    <span class="token punctuation">[</span>Checksum Status: Unverified<span class="token punctuation">]</span>//和校验状态
    <span class="token punctuation">[</span>Stream index: <span class="token number">0</span><span class="token punctuation">]</span>
    <span class="token punctuation">[</span>Timestamps<span class="token punctuation">]</span>
        <span class="token punctuation">[</span>Time since first frame: <span class="token number">3.969859000</span> seconds<span class="token punctuation">]</span>
        <span class="token punctuation">[</span>Time since previous frame: <span class="token number">0.031141000</span> seconds<span class="token punctuation">]</span>
OICQ - IM software, popular <span class="token keyword">in</span> China//因特网控制信息协议
    Flag: Oicq packet <span class="token punctuation">(</span>0x02<span class="token punctuation">)</span>
    Version: 0x3859//版本信息
    Command: Heart Message <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
    Sequence: <span class="token number">17154</span>
    Data<span class="token punctuation">(</span>OICQ Number,if sender is client<span class="token punctuation">)</span>: <span class="token number">1026651458</span>
    Data: 
        <span class="token punctuation">[</span>Expert Info <span class="token punctuation">(</span>Warning/Undecoded<span class="token punctuation">)</span>: Trailing stray characters<span class="token punctuation">]</span>
            <span class="token punctuation">[</span>Trailing stray characters<span class="token punctuation">]</span>
            <span class="token punctuation">[</span>Severity level: Warning<span class="token punctuation">]</span>
            <span class="token punctuation">[</span>Group: Undecoded<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-none"><code class="language-none"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
]]></content>
      <categories>
        <category>学习</category>
      </categories>
      <tags>
        <tag>实验</tag>
        <tag>计算机网络</tag>
      </tags>
  </entry>
  <entry>
    <title>基于Frp和Squid的代理服务器搭建</title>
    <url>/2022/0427Proxy%20server%20construction.html</url>
    <content><![CDATA[<h1 id="实现需求"><a href="#实现需求" class="headerlink" title="实现需求"></a>实现需求</h1><p>硬件:</p>
<ul>
<li>具备公网IP的主机(此处使用阿里云服务器)</li>
<li>连接校内网的主机(此处使用运行Ubunt系统的虚拟机)</li>
</ul>
<p>软件:</p>
<ul>
<li>frp(内网穿透工具)</li>
<li>squid(代理服务器工具,UNIX&#x2F;linux主要采用Squid实现代理服务器功能)</li>
</ul>
<h1 id="实现原理"><a href="#实现原理" class="headerlink" title="实现原理"></a>实现原理</h1><p><img src="https://s2.loli.net/2022/04/27/Tn6Y9EFy5crkueb.png" alt="代理拓扑图"></p>
<ul>
<li>为什么要云服务器?</li>
</ul>
<pre class="line-numbers language-none"><code class="language-none">校园网(校内网)是一个具备严格防火墙的局域网,公网上的设备并不能够直接访问校内网的各种资源,为了实现外网能够访问校园网,我们有两种思路,一在具备公网IP地址的云服务器和校内主机上都安装frp软件,实现内网穿透功能。二是在校内主机上架设VPN服务器,校外设备通过VPN连接校内网访问校内资源。本文采用第一种方式。<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>


<ul>
<li>为什么要代理服务器?</li>
</ul>
<pre class="line-numbers language-none"><code class="language-none">代理服务器能够监听设备上的端口,一旦端口接受到访问请求,代理程序会按照预先设定的配置将端口中接收到的访问请求转发并返回请求内容,在校内主机上安装<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><a href="https://so.csdn.net/so/search?q=Squid&spm=1001.2101.3001.7020">Squid</a>软件,从而将校内主机变为代理服务器,能够转发来自校外设备的浏览器请求。</p>
<h1 id="实现内网穿透"><a href="#实现内网穿透" class="headerlink" title="实现内网穿透"></a>实现内网穿透</h1><h2 id="云服务器安装frp-server"><a href="#云服务器安装frp-server" class="headerlink" title="云服务器安装frp-server"></a>云服务器安装frp-server</h2><h3 id="获取frp软件"><a href="#获取frp软件" class="headerlink" title="获取frp软件"></a>获取frp软件</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> /usr/local/src  <span class="token comment">#进入此目录</span>
<span class="token function">wget</span> https://github.com/fatedier/frp/releases/download/v0.38.0/frp_0.38.0_linux_amd64.tar.gz <span class="token comment">#下载frp</span>
<span class="token function">tar</span> <span class="token parameter variable">-xvf</span> frp_0.38.0_linux_amd64.tar.gz <span class="token comment">#解压;frp文件</span>
<span class="token builtin class-name">cd</span> frp_0.38.0_linux_amd64/ <span class="token comment">#进入解压后的frp文件夹</span>
<span class="token function">ls</span> <span class="token comment">#浏览文件夹</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="https://s2.loli.net/2022/04/27/AB7lXHTYsqaDzWd.png" alt="ls命令结果"></p>
<p>可见frp文件夹中包含了frpc和frps两个可执行文件,frpc即frp-client(客户端),frps即frp-server(服务端)</p>
<h3 id="配置frp服务器端配置文件frps-ini"><a href="#配置frp服务器端配置文件frps-ini" class="headerlink" title="配置frp服务器端配置文件frps.ini"></a>配置frp服务器端配置文件frps.ini</h3><p>用vim命令打开frps.ini文件</p>
<pre class="line-numbers language-none"><code class="language-none">[common]
bind_port &#x3D; 7000   #frp使用的端口

dashboard_user &#x3D; admin    #流量监控的账户  自己设置
dashboard_pwd &#x3D; 123456    #流量监控的密码   自己设置
dashboard_port &#x3D; 6440     #流量监控程序的端口,搭建完成之后用 云服务器IP:6440 就可以打开流量监控网页程序<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="启动frp服务端"><a href="#启动frp服务端" class="headerlink" title="启动frp服务端"></a>启动frp服务端</h3><pre class="line-numbers language-none"><code class="language-none">nohup .&#x2F;frps -c .&#x2F;frps.ini &amp;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>注:nohup的作用是让我在关闭Xshell远程连接时,frp服务端不会跟ssh进程一起关闭。<br>参考文档:<br><a href="https://blog.csdn.net/gatieme/article/details/52777721">解决Linux关闭终端(关闭SSH等)后运行的程序自动停止</a><br><a href="https://blog.csdn.net/davidhzq/article/details/102766881">在linux后台运行脚本命令和程序的方法大全</a></p>
<h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a><img src="https://s2.loli.net/2022/04/27/uKyGrtOgTzNWQin.png" alt="在这里插入图片描述">注意事项</h3><p>国内云服务器大多都要配置安全组的,以阿里云为例,配置规则里更改访问规则,从而打开需要用到的端口。</p>
<h2 id="在校内主机安装frp-client"><a href="#在校内主机安装frp-client" class="headerlink" title="在校内主机安装frp-client"></a>在校内主机安装frp-client</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> /usr/local/src  <span class="token comment">#进入此目录</span>
<span class="token function">wget</span> https://github.com/fatedier/frp/releases/download/v0.38.0/frp_0.38.0_linux_amd64.tar.gz      <span class="token comment">#笔者这里用的版本和云服务器的一样,读者在Github选择自己合适的版本</span>
<span class="token function">tar</span> <span class="token parameter variable">-xvf</span> frp_0.38.0_linux_amd64.tar.gz <span class="token comment">#解压文件</span>
<span class="token builtin class-name">cd</span> frp_0.31.1_linux_amd64/
<span class="token function">ls</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="https://s2.loli.net/2022/04/27/R4n5vMAlhk8BUzL.png" alt="ls命令结果"></p>
<h3 id="配置frp客户端配置文件frpc-ini"><a href="#配置frp客户端配置文件frpc-ini" class="headerlink" title="配置frp客户端配置文件frpc.ini"></a>配置frp客户端配置文件frpc.ini</h3><p>用vim命令打开frpc.ini文件。</p>
<pre class="line-numbers language-ini" data-language="ini"><code class="language-ini"><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">common</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">server_addr</span> <span class="token punctuation">=</span> <span class="token value attr-value">&lt;你的云服务器IP地址></span>
<span class="token key attr-name">server_port</span> <span class="token punctuation">=</span> <span class="token value attr-value">7000</span>

<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">ssh</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">type</span> <span class="token punctuation">=</span> <span class="token value attr-value">tcp</span>
<span class="token key attr-name">local_ip</span> <span class="token punctuation">=</span> <span class="token value attr-value">127.0.0.1</span>
<span class="token key attr-name">local_port</span> <span class="token punctuation">=</span> <span class="token value attr-value">22        #local_port端口是校内主机的ssh端口号</span>
<span class="token key attr-name">remote_port</span> <span class="token punctuation">=</span> <span class="token value attr-value">6001     #remote_port端口是云服务器的端口号。此端口自己设置,实现当你用Xshell连接 云服务器IP地址:6001即是在连接你校内主机的SSH端口</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>启动frp客户端</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">./frpc <span class="token parameter variable">-c</span> ./frpc.ini <span class="token comment">#若需要关闭终端后仍继续运行,参考上文云服务器端命令</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h2 id="测试frp是否搭建成功"><a href="#测试frp是否搭建成功" class="headerlink" title="测试frp是否搭建成功"></a>测试frp是否搭建成功</h2><p>用Xshell连接,连接地址填 云服务器IP地址:6001,用户名和密码填校内主机的。如果ssh能够成功连接,则成功实现内网穿透。<br>frp官方提供的教程:<a href="https://gofrp.org/docs/examples/ssh/">通过SSH访问内网机器</a></p>
<h1 id="校内主机实现代理服务器功能"><a href="#校内主机实现代理服务器功能" class="headerlink" title="校内主机实现代理服务器功能"></a>校内主机实现代理服务器功能</h1><h2 id="校内主机安装Squid软件"><a href="#校内主机安装Squid软件" class="headerlink" title="校内主机安装Squid软件"></a>校内主机安装Squid软件</h2><p>安装软件</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum <span class="token function">install</span> squid <span class="token parameter variable">-y</span>
yum <span class="token function">install</span> httpd-tools <span class="token parameter variable">-y</span>  
<span class="token comment">#以上两命令适用于centos</span>
<span class="token function">apt</span> <span class="token function">install</span> squid <span class="token parameter variable">-y</span>
<span class="token function">apt</span> <span class="token function">install</span> apache2-utils <span class="token parameter variable">-y</span>
<span class="token comment">#以上两条命令适用于Ubuntu</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>生成密码文件</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">mkdir</span> /etc/squid3/
<span class="token comment">#ikaros 是用户名</span>
htpasswd <span class="token parameter variable">-cd</span> /etc/squid3/passwords ikaros
<span class="token comment">#提示输入密码,比如输入123456</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="https://s2.loli.net/2022/04/27/Cb5KoEj6Nk2Flim.png" alt="生成密码文件执行结果"></p>
<p>测试密码文件</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">/usr/lib64/squid/basic_ncsa_auth /etc/squid3/passwords
<span class="token comment">#输入用户名 密码</span>
ikaros  <span class="token number">123456</span>
<span class="token comment">#提示ok说明成功</span>
ok
<span class="token comment">#ctrl+c退出</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="https://s2.loli.net/2022/04/27/lyeFmL3x5dg9W6U.png" alt="测试密码文件执行结果"></p>
<p>配置squid.conf文件</p>
<pre class="line-numbers language-ini" data-language="ini"><code class="language-ini">vim /etc/squid/squid.conf
<span class="token comment">#在最后添加</span>
auth_param basic program /usr/lib64/squid/basic_ncsa_auth /etc/squid3/passwords
auth_param basic realm proxy
acl authenticated proxy_auth REQUIRED
http_access allow authenticated

<span class="token comment"># And finally deny all other access to this proxy</span>
http_access allow all

<span class="token comment"># Deny CONNECT to other than secure SSL ports</span>
http_access allow CONNECT !SSL_ports

<span class="token comment">#这里是端口号,可以按需修改</span>
<span class="token comment">#http_port 3128 这样写会同时监听ipv6和ipv4的端口,推荐适应下面的配置方法。</span>
http_port 0.0.0.0:3128
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>squid软件相关命令</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#启动start</span>
systemctl start squid.service
<span class="token comment">#停止stop</span>
systemctl stop squid.service
<span class="token comment">#重启stop</span>
systemctl restart squid.service
<span class="token comment">#配置开机自启动</span>
systemctl <span class="token builtin class-name">enable</span> squid.service
<span class="token comment">#关闭开机自启动</span>
systemctl disable squid.service
<span class="token comment">#查看运行状态</span>
systemctl status squid.service
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="https://s2.loli.net/2022/04/27/dXsaZYW2DNJzjw4.png" alt="执行启动命令结果"></p>
<p>参考教程:<a href="https://zhuanlan.zhihu.com/p/123048354">Centos7搭建Squid代理服务器</a></p>
<h2 id="修改校内主机frp客户端配置文件frpc-ini"><a href="#修改校内主机frp客户端配置文件frpc-ini" class="headerlink" title="修改校内主机frp客户端配置文件frpc.ini"></a>修改校内主机frp客户端配置文件frpc.ini</h2><p>我们在4.1步骤里添加了校内主机3128端口为代理服务器的端口,所有到此端口的浏览器请求都会被此端口转发出去。<br>此时我们还得更改校内主机frp客户端配置文件frpc.ini,从而使云服务器所收到的浏览器请求转发到校内主机的3128端口。</p>
<p>Xshell以root身份连接校内主机</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> /usr/local/src/frp_0.38.0_linux_amd64/    <span class="token comment">#进入校内服务器的存放frp文件的目录</span>
<span class="token function">vim</span> frpc.ini

<span class="token comment">#在最后添加</span>
<span class="token comment">#[proxy-http]</span>
<span class="token comment">#local_ip = 127.0.0.1</span>
<span class="token comment">#local_port = 3128</span>
<span class="token comment">#remote_port = 8000    此端口自己设置,步骤五会用到。</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>重启frp客户端</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">nohup</span> ./frpc <span class="token parameter variable">-c</span> ./frpc.ini <span class="token operator">&amp;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>如果报以下错误,说明之前的frp客户端还没关闭。关闭方法可kill此进程,具体方法百度如何重启frp客户端。</p>
<p><img src="https://s2.loli.net/2022/04/27/oQBaIVYXvGqSfg1.png" alt="错误"></p>
<h1 id="验证"><a href="#验证" class="headerlink" title="验证"></a>验证</h1><p>到了这一步,校园网代理就算搭建完毕,可以直接使用windows连接我们的代理。看校外的笔记本电脑是否呢能够免费下载知网,以及顶会期刊论文。</p>
<p>打开windows菜单-&gt;设置-&gt;网络与Internet-&gt;代理</p>
<p><img src="https://s2.loli.net/2022/04/27/dgYZ3nb6hq4jlxR.png" alt="win10设置代理"></p>
<p>在地址一栏填上你的云服务器IP地址,端口填8000(在4.2这一步设置的),然后打开使用代理服务器的开关</p>
<p>然后打开浏览器,就可以成功访问校园网资源</p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>内网穿透</tag>
        <tag>代理服务器</tag>
        <tag>frp</tag>
        <tag>squid</tag>
      </tags>
  </entry>
  <entry>
    <title>CCTV-探索发现观看记</title>
    <url>/2023/03299392.html</url>
    <content><![CDATA[<p>很久没看中央十套的《探索发现》了,非常经典的系列节目,现在还一直记得小时候在“大屁股电视”上看得津津有味,现在IPTV普及了,再从CCTV4K频道上看观感还是蛮不错得。只是《探索发现》还是原来的老味道,或许制片班子还没退休吧?仍然是上集扑朔迷离,下集就豁然开朗了,经典老配方。</p>
<div class="douban-card-block">
    <a class="douban-card" href="https://movie.douban.com/subject/36221204">
        <div bg-lazy class="douban-card-bgimg" style="background-image: url('https://images.weserv.nl/?url=https://img2.doubanio.com/view/photo/s_ratio_poster/public/p2887096663.jpg');"></div>
        <div class="douban-card-left">
            <div bg-lazy class="douban-card-img" style="background-image: url('https://images.weserv.nl/?url=https://img2.doubanio.com/view/photo/s_ratio_poster/public/p2887096663.jpg');"></div>
            <div class="douban-card-status">我看过这部电视剧2023-03-29</div>
        </div>
        <div class="douban-card-right">
            <div class="douban-card-item"><span>电影名: </span><strong>茶园山南宋古墓之谜(2023)</strong></div>
            <div class="douban-card-item"><span>导演: </span><span>{{director}}</span></div>
            <div class="douban-card-item"><span>主演: </span><span>{{actors}}</span></div>
            <div class="douban-card-item"><span>上映时间: </span><span>2023-01-14(中国大陆)</span></div>
            <div class="douban-card-item"><span>评分: </span><span></span></div>
        </div>
    </a>
</div>

<p>今天看得是《茶园山南宋古墓之谜》,我看标题就知道是那个味儿。所以看这个系列的片子确实憋不出什么观感来,但有些知识、古文和观点还是值得一提、值得一记的。</p>
<h3 id="三合土"><a href="#三合土" class="headerlink" title="三合土"></a>三合土</h3><p><img src="https://s2.loli.net/2023/03/29/7Z52sVWhKbzSaJF.png" alt="三合土封棺"></p>
<p>我在看的时候就比较好奇,古代也有三合土?跟现代的三合土一样吗?建筑学概念:</p>
<blockquote>
<p>三合土是一种建筑材料。它由石灰、碎砖和细砂所组成 ,其实际配比视泥土的含沙量而定。经分层夯实,具有一定强度和耐水性,多用于建筑物的基础或路面垫层。</p>
<p align="right">——百度百科</p>
</blockquote>
<p>看了下wikipedia,词条似乎无人编辑。实际上三合土是一种中国本土的叫法,我国历史上不同时代三合土的三种材料使用都不一样,但都叫三合土,在古代这种叫法常用于墓葬领域,三合土封棺法。</p>
<h3 id="棺与椁"><a href="#棺与椁" class="headerlink" title="棺与椁"></a>棺与椁</h3><p><img src="https://s2.loli.net/2023/03/29/wq4RdvNHjlVt7zG.png" alt="棺与椁"></p>
<p>平时都是见到的词是棺椁,而棺与椁其实是两样东西,它们组成了装殓尸体的器具,也就是泛指的“棺材”。</p>
<p>棺:装殓尸体的器具,灵柩(jiù)同为此意。</p>
<p>椁:套在棺外的外棺,就是棺材外面套的大棺材</p>
<h3 id="印金山茶梅花边对襟合领绉纱单衣"><a href="#印金山茶梅花边对襟合领绉纱单衣" class="headerlink" title="印金山茶梅花边对襟合领绉纱单衣"></a>印金山茶梅花边对襟合领绉纱单衣</h3><p><img src="https://s2.loli.net/2023/03/29/jUfTpL9CxVdYQHr.jpg" alt="印金山茶梅花边对襟合领绉纱单衣"></p>
<p>这件单衣的名字着实体现了古代贵族衣着服饰的精美之所在,咋一看只是一件普通的衣物,但不知道名字真的不知道这件单衣的制作工艺如此繁复,在距今700多年的南宋织造出这样一件单衣,真是令人惊叹。</p>
<p><strong>印金山茶梅花边</strong>指的是图中衣襟部分的装饰。</p>
<p>宋代褙子的领型有直领对襟式、斜领交襟式、盘领交襟式三种</p>
<p><strong>合领</strong>其实不是指某种形制,它是一种叫法。直领对襟的领子两襟可以完全靠上的,就可以称之为合领。</p>
<p><strong>烟色</strong>指的是单衣的染色。</p>
<p><strong>绉纱</strong>指的是单衣的材质。</p>
<p>这里是一些宋制汉服的知识。</p>
<h3 id="银镏金转官毬纹帔坠"><a href="#银镏金转官毬纹帔坠" class="headerlink" title="银镏金转官毬纹帔坠"></a>银镏金转官毬纹帔坠</h3><p><img src="https://s2.loli.net/2023/03/29/HzlhdA1jVRPq4xY.png" alt="银镏金转官毬纹帔坠"></p>
<p>如果古装剧看的比较多,就能看到古装着衣时常见的装饰——帔坠。</p>
<p>这个帔坠的名字是这样断句的:银镏金&#x2F;转官&#x2F;毬(qiú)纹&#x2F;帔坠。</p>
<p>银镏金是帔坠材质,转官是帔坠上的字样,毬纹是帔坠的花纹样式。</p>
<p><strong>转官</strong>:宋代升迁官职的说法。</p>
<p><strong>帔(pèi)坠</strong>:使衣服下垂的装饰品。</p>
<h3 id="剔犀葵瓣式漆奁"><a href="#剔犀葵瓣式漆奁" class="headerlink" title="剔犀葵瓣式漆奁"></a>剔犀葵瓣式漆奁</h3><p><img src="https://s2.loli.net/2023/03/29/JmD1wHNEnKfQoZk.png" alt="剔犀葵瓣式漆奁"></p>
<p>奁(lián)是古代妇女梳妆用的镜匣。而漆奁则是指其制作工艺为漆制。</p>
<h3 id="渚"><a href="#渚" class="headerlink" title="渚"></a>渚</h3><p><img src="https://s2.loli.net/2023/03/29/kV9if8wjFuRlIOP.png" alt="鄂渚"></p>
<p>渚:水中小块陆地。</p>
<p>杜甫《登高》中“渚清沙白鸟飞回”的<strong>渚</strong>即为此意。</p>
<h3 id="暂厝"><a href="#暂厝" class="headerlink" title="暂厝"></a>暂厝</h3><p><img src="https://s2.loli.net/2023/03/29/jgouUZp89FqyRiJ.png" alt="暂厝"></p>
<p>暂厝(cuò):人死后浅埋以待改葬或停柩(jiù)待葬。</p>
<h3 id="语病错误"><a href="#语病错误" class="headerlink" title="语病错误"></a>语病错误</h3><p><img src="https://s2.loli.net/2023/03/29/3dqoLcu1EyKSpQG.jpg" alt="语病错误"></p>
<p>旁白:</p>
<p align="center"><i>“为何当时起重机吊不起棺椁的原因”</i></p>

<p>我没想到的是中央台也会有这种错误。</p>
<p>最后,纪录片中一位馆长的一句话我非常认同。</p>
<p><img src="https://s2.loli.net/2023/03/29/JUScgnkM7Hy1hVZ.jpg" alt="金句"></p>
]]></content>
      <categories>
        <category>纪录片</category>
      </categories>
      <tags>
        <tag>探索发现</tag>
        <tag>观剧</tag>
        <tag>纪录片</tag>
        <tag>考古</tag>
      </tags>
  </entry>
  <entry>
    <title>无线传感器网络必背习题</title>
    <url>/2020/1209wsn%20study.html</url>
    <content><![CDATA[<p>填空题:</p>
<ol>
<li>传感器网络三大基本要素:<em>传感器</em>、<em>感知对象</em>、<em>观测者</em></li>
<li>传感器节点的基本功能模块包括: <em>数据采集模块</em> 、 <em>数据处理和控制模块</em> 、<br><em>通信模块</em> 、<em>供电模块</em>四个,其中 <em>通信模块</em> 能量消耗最大。</li>
<li>传感器节点通信模块的工作模式有 <em>发送</em> 、 <em>接收</em> 、 <em>空闲</em> 和 <em>睡眠</em> 。</li>
<li>无线传感器网络拓扑控制主要通过 <em>功率调节</em> 和 <em>睡眠调度机制</em> 两种方式实现。</li>
<li>传感器网络中的平面路由协议主要有 <em>洪泛路由</em> 、 <em>闲聊法</em> 、<em>SPIN</em> 等。</li>
<li>传感器网络中的路由协议按照节点在路由过程中是否有层次结构、作用是否有差异,可分为<br><em>平面路由协议</em> 和 <em>层次路由协议</em> 。</li>
<li><em>K-连通</em> 指至少去掉 k 个节点才能使网络不连通。</li>
<li><em>目标定位</em> 是确定网络覆盖范围内其他目标节点的坐标位置。</li>
<li>*无线传感器网络经典 MAC 协议是 <em>S-MAC</em>,它主要特征是<br><em>提供良好的扩展性、减少节点能量消耗</em> 。</li>
<li>无线传感器网络根据覆盖目标不同,将覆盖算法分为 <em>点覆盖</em> 、 <em>面覆盖</em> 、<br><em>栅栏覆盖</em> 三种类型。</li>
<li>传感器网络拓扑结构包括 <em>平面网络结构</em> 、 <em>分级网络结构</em> 、 <em>混合网络结构</em><br>、<em>Mesh 网络结构</em> 四种。</li>
<li><em>洪泛</em> 路由协议是无线传感器网络中最基本、最简单的平面路由协议。</li>
<li>传感器网络中的路由协议按照传输过程中采用的路径多少分为: <em>单路径路由协议</em></li>
</ol>
<p>和 <em>多路径路由协议</em> 。</p>
<ol>
<li>无线传感器网络中节点部署方式主要分为 <em>确定性部署</em> 、 <em>随机性部署</em> 、<br><em>混合式部署</em> 三种。</li>
<li>实现传感器节点时间同步的同步消息包括 <em>单向消息交换</em> 、 <em>双向消息交换</em> 、<br><em>接收端-接收端同步</em> 三种。</li>
<li>无线传感器网络时间同步协议 TPSN 实现包括 <em>级别探索</em> 和 <em>同步</em> 两个阶段。</li>
<li>节点覆盖感知模型主要有 <em>布尔感知模型</em> 和 <em>概率感知模型</em> 。</li>
<li>混合网络拓扑结构中包括基本的 <em>平面</em> 和 <em>分级</em> 两种网络结构。</li>
<li>典型的覆盖算法包括 <em>最佳与最坏情况覆盖</em> 、 <em>圆周覆盖</em> 、和连通传感器覆盖等。</li>
<li>按源节点获取路径的方法: <em>主动路由协议</em> 、 <em>按需路由协议</em> 、 <em>混合路由协议</em><br>。</li>
<li>按节点参与通信的方式: <em>直接通信路由协议</em> 、 <em>平面路由协议</em> 、<br><em>层次路由协议</em> 。</li>
<li>按路由的发现过程: <em>以位置信息为中心的路由协议</em> 、 <em>以数据为中心的路由协议</em><br>。</li>
<li>无线通信介质主要包括 <em>无线电波</em> 、 <em>红外线</em> 、 <em>微波</em> 、 <em>卫星</em> 。</li>
<li>列举三个与距离无关的定位方法 <em>质心定位算法</em> 、 <em>凸规划定位算法</em> 、<em>APS<br>定位算法</em> 。</li>
<li>无线传感器网络传输层协议主要实现 <em>event-to-sink</em> 和 <em>sink-to-sensors</em><br>两种方式消息的传送。</li>
<li>根据信息的抽象程度,数据融合分为 <em>数据级融合</em> 、 <em>特征级融合</em> 、<br><em>决策级融合</em> 。</li>
<li>传感器网络节能的主要策略有 <em>休眠机制</em> 、 <em>数据融合机制</em> 。</li>
<li>常用的短距离无线通信技术包括 <em>蓝牙</em> 、<em>Zigbee</em>、<em>UWB</em>、<em>WIFI</em> 等。</li>
<li>*无线传感器网络接入 Internet 网络的方式有 <em>以太网</em> 、 <em>无线局域网</em> 、</li>
</ol>
<p><em>移动通信网</em> 、 <em>有线电视网</em> 等。</p>
<ol>
<li>名词解释:(只要给出缩写的全名中文意思,不需要解释)</li>
</ol>
<p>WSN:无线传感器网络</p>
<p>ISO:国际标准化组织</p>
<p>MAC:介质访问控制</p>
<p>RSSI:接收信号强度指示</p>
<p>ToA:(基于)到达时间定位法</p>
<p>TDoA:(基于)到达时间差定位法</p>
<p>AOA:(基于)到达角</p>
<p>LoS:视线传输&#x2F;同步丢失</p>
<p>TDMA:时分复用&#x2F;时分多址</p>
<p>SNEP:传感器网络加密协议</p>
<p>MST:最小生成树</p>
<p>LMST:本地最小生成树</p>
<p>RNG:相关(相对)邻近图</p>
<p>DRNG:有向相关(相对)邻近图</p>
<p>ARQ:自动重传请求</p>
<p>AP:接入点</p>
<p>CSMA&#x2F;CA:带有冲突避免的载波侦听多路访问</p>
<p>PCF:点协调功能</p>
<p>DCF:分布式协调功能</p>
<p>RTS&#x2F;CTS:请求发送&#x2F;允许发送协议</p>
<p>WPAN:无线个人网络</p>
<ol>
<li>简答题:</li>
<li>简述无线传感器网络的定义及特点。</li>
</ol>
<p>定义:无线传感器网络是大量的静止或移动的传感器以自组织和多跳的方式构成的无线网络</p>
<p>特点:自组织性、以数据为中心、应用相关性、动态性、网络规模大、可靠性、集成化、协作方式执行任务</p>
<ol>
<li>简述无线传感器网络的关键技术包含哪些。</li>
</ol>
<p>关键技术:拓扑控制、路由协议、时间同步、定位技术、数据融合、异构网络的互联互通、信息安全技术、大结构关联协同处理数据</p>
<ol>
<li>简述无线传感器网络拓扑控制的定义及评价指标有哪些。</li>
</ol>
<p>定义:拓扑控制(topology<br>control)是一种协调节点间各自传输范围的技术,用以构建具有某些期望的全局特性(如,连通性)的网络拓扑结构,同时减少节点的能耗或增加网络的传输能力</p>
<p>评价指标:连通性、覆盖性、吞吐量、扩展性、鲁棒性</p>
<ol>
<li>简述无线传感器网络协议结构及各层功能。</li>
</ol>
<p>无线传感器网络协议由<strong>物理层、数据链路层、网络层、传输层和应用层</strong>组成</p>
<p><img src="https://s2.loli.net/2021/12/05/KUOqu3RQP1rfXHa.png" alt="图片"></p>
<ol>
<li>简述无线传感器网络安全需求有哪些。</li>
</ol>
<p>数据保密性、数据认证、数据完整性、数据实时性、密钥管理、真实性、扩展性、可用性、自组织性、鲁棒性等</p>
<ol>
<li>简述 S-MAC 协议工作方式以及优势与不足。</li>
</ol>
<p>S-MAC 协议是在 802.11MAC<br>协议的基础上,针对于传感器网络的节省能量的需求而提出的传感器网络的 MAC 协议;<br>通常情况下传感器网络的数据传输量少,节点协作完成共同的任务,网络内部能够进行数据的处理和融合以减少数据通信量,网络能够容忍一定程度的通信延迟;</p>
<p>工作机制:周期性侦听和睡眠、流量自适应侦听机制、串音避免、消息传递。</p>
<p>优点:</p>
<p>(1)采用流量自适应侦听机制,减少了网络中的传输延迟。</p>
<p>(2)通过睡眠机制减少了空闲侦听的能量消耗,实现简单。</p>
<p>缺点:</p>
<p>(1)竞争窗口固定导致在网络流量较大情况下,会造成网络吞吐量较低而能耗和时延较高。</p>
<p>(2)当网络负载较低的时候,由于 SMAC<br>协议采用固定的周期性侦听&#x2F;睡眠机制,节能效果并不理想.</p>
<ol>
<li>简述 WSN 接入 Internet 的实现方式。</li>
</ol>
<p>以太网、无线局域网、移动通信网、有线电视网、卫星、5G</p>
<p>应用层网关</p>
<p>延时容忍网络</p>
<p>TCP&#x2F;IP 覆盖传感器网络协议栈</p>
<p>传感器网络协议栈覆盖 TCP&#x2F;IP</p>
<p>移动代理</p>
<ol>
<li>简述 WSN 路由协议的分类及分类标准有哪些(至少 3 种)。</li>
</ol>
<p>1、按源节点获取路径的方法:主动路由协议、按需路由协议、混合路由协议。</p>
<p>2、按节点参与通信的方式:直接通信路由协议、平面路由协议、层次路由协议。</p>
<p>3、按路由的发现过程:以位置信息为中心的路由协议、以数据为中心的路由协议。</p>
<ol>
<li>应用题:</li>
<li>画出无线传感器网络系统功能结构图,简单叙述各组成部分的功能及相关关系。</li>
</ol>
<p><img src="https://s2.loli.net/2021/12/05/qJd6y2YNeo4ZzPg.png" alt="图片"></p>
<p>传感器网络包括传感器节点,汇聚节点和管理节点</p>
<p>传感器节点大量部署在在某一监测区域内,节点以自组织的形式构成无线网络,以协作的方式实时感知、采集和处理网络覆盖区域的信息,并通过多跳的方式经由汇聚节点链路将整个区域的信息传送到远程控制管理中心,且远程控制管理中心也可以对网络节点进行实时监控和操作</p>
<ol>
<li>画出传感器网络的平面网络拓扑结构图(包含基站与普通节点),说明网络节点的工作方式,及优缺点。</li>
</ol>
<p><img src="https://s2.loli.net/2021/12/05/g7UqS4dzCYh6DOM.png" alt="图片"></p>
<p>平面网络结构所有节点为对等结构,具有完全一·致的功能特性,也就是说每个节点均包含<br>相同的 MAC、路由、管理和安全等协议。是无线传感器网络中最简单的一种拓扑结构</p>
<p>优点:网络拓扑结构简单,易维护,具有较好的健壮性</p>
<p>缺点:没有中心管理节点,采用自组织协同算法形成网络,组网算法复杂</p>
<ol>
<li>画出传感器网络的层次结构拓扑结构图(包含基站与普通节点),说明网络节点的工作方式,及优缺点。</li>
</ol>
<p><img src="https://s2.loli.net/2021/12/05/UVAzH132N7JdKQg.png" alt="图片"></p>
<p>特点(工作方式):</p>
<p>(1)网络分为上层和下层两个部分,上层为中心骨干节点,下层为一般传感器节点</p>
<p>(2)通常网络可能存在一个或多个骨干节点</p>
<p>(3)所有骨干节点为对等结构</p>
<p>(4)分级网络通常以簇的形式存在</p>
<p>(5)网络拓扑结构扩展性好</p>
<p>优点:扩展性好,便于集中管理,可以降低系统建设成本,提高网络效率和可靠性</p>
<p>缺点:集中管理开销大,硬件成本高,一般节点不能直接通信</p>
<ol>
<li>简述 LEACH 协议实现过程。</li>
</ol>
<p>LEACH 是一种自适应分簇拓扑算法,它的执行是周期性的,每轮循环分为簇的建立</p>
<p>阶段和稳定的数据通信阶段。</p>
<p>簇的建立阶段:相邻节点动态地形成簇,随机产生簇头</p>
<p>数据通信阶段:簇内节点把数据发给簇头,簇头进行数据融合并把结果发给汇聚节点。</p>
<p>簇头耗能大,所以需要等概率选取簇头。使整个网络的能量负载达到均衡。</p>
<p>基本思想:网络周期地随机选择簇头,其它非簇头节点以就近原则加入相应簇头,形成虚<br>拟簇。簇内 节点将感知到的消息直接发送给簇头,由簇头转发给汇聚节点,簇头节点可<br>以将本簇内的 数据进行融合处理以减少网络传输的数据量</p>
<ol>
<li>简述基于节点度的功率控制算法实现过程(或伪代码),以本地平均算法为例说明。</li>
</ol>
<p>给定节点度的上限和下限,动态地调整节点发射功率,使节点的度数始终维持在度数的上限<br>和下限之间.LMA 算法利用局部信息来调整相邻节点的连通性,从而在保证网络连通的同时<br>使得节点间的链路具有一定的冗余性和扩展性。</p>
<p><img src="https://s2.loli.net/2021/12/05/jNemVhHafoDRuAg.png" alt="图片"></p>
<ol>
<li>简述无线传感器网络时间同步协议(TPSN)实现过程。</li>
</ol>
<p>传感器网络的时间同步协议(TPSN)是另一种传统的使用树结构组织网络的“发射端-接收端”同步方式。TPSN<br>同步有两个过程:级别探测阶段(在网络部署时执行)和同步阶段。</p>
<p>(1)级别探测阶段</p>
<p>这个阶段的目标是创建网络的分层拓扑结构,每个节点被分配了一个级别,根节点(例如一个配备了<br>GPS,可以通向外部世界的网关)驻留在级别 0。根节点通过发出一个 level_discovery<br>消息开始这个过程,这个消息包含了级别信息和发射者独有的身份信息。</p>
<p>(2)同步阶段</p>
<p>在同步阶段,TPSN 沿着在前一阶段建立起的分层结构的边缘使用双向同步机制,也就是每个<br>i 级节点会与处于 i-1 级的节点进行时钟同步。</p>
<p><img src="https://s2.loli.net/2021/12/05/YAmJe6oNHEchSQa.png" alt="图片"></p>
<ol>
<li>掌握基于 RSSI、TOA、TDOA、AOA 测距的理论基础及计算过程。</li>
</ol>
<p><img src="https://s2.loli.net/2021/12/05/QSZH6UqsXK5LyaW.png" alt="图片"></p>
<p><img src="https://s2.loli.net/2021/12/05/14UaqCsmeugy9ri.png" alt="图片"></p>
<p><img src="https://s2.loli.net/2021/12/05/81aBg62Qr5Xfs7h.png" alt="图片"></p>
<p><img src="https://s2.loli.net/2021/12/05/xe1wsWBTEr6tYuo.png" alt="图片"></p>
<p><img src="https://s2.loli.net/2021/12/05/5WXBpsVSMN2foLu.png" alt="图片"></p>
<p><img src="https://s2.loli.net/2021/12/05/RxybcQvFsS4iPoq.png" alt="图片"></p>
<p><img src="https://s2.loli.net/2021/12/05/I2qztME1JA9cTFG.png" alt="图片"></p>
<p><img src="https://s2.loli.net/2021/12/05/KTuzP9hketRsSFC.png" alt="图片"></p>
<p><img src="https://s2.loli.net/2021/12/05/vk5V1zYOSbyDRIj.png" alt="图片"></p>
<p><img src="https://s2.loli.net/2021/12/05/gFN82fq7Ie5lYDX.png" alt="图片"></p>
<p><img src="https://s2.loli.net/2021/12/05/Qq4mAEnYas7cwX5.png" alt="图片"></p>
<ol>
<li>掌握三边定位法、极大似然定位法理论基础及计算过程。</li>
</ol>
<p><img src="https://s2.loli.net/2021/12/05/ybICYZLXeAT8oWp.png" alt="图片"></p>
<p><img src="https://s2.loli.net/2021/12/05/si56kBjzxvJI3cY.png" alt="图片"></p>
<p><img src="https://s2.loli.net/2021/12/05/UcfJkrYe2P1lqTs.png" alt="图片"></p>
<p><img src="https://s2.loli.net/2021/12/05/GmKSn37B16q4RCD.png" alt="图片"></p>
<p><img src="https://s2.loli.net/2021/12/05/d5tcRe1qArjYwmz.png" alt="图片"></p>
<p><img src="https://s2.loli.net/2021/12/05/u9wp2xFs7mtKOl5.png" alt="图片"></p>
<p><img src="https://s2.loli.net/2021/12/05/u9wp2xFs7mtKOl5.png" alt="图片"></p>
<p><img src="https://s2.loli.net/2021/12/05/3N2BLOEDSd5e8l6.png" alt="图片"></p>
<ol>
<li>**掌握 DV-Hop 定位实现过程。</li>
</ol>
<p><img src="https://s2.loli.net/2021/12/05/qJa6FEdfMKlxvkA.png" alt="图片"></p>
<p><img src="https://s2.loli.net/2021/12/05/BoyVd8IYUERuALZ.png" alt="图片"></p>
<p><img src="https://s2.loli.net/2021/12/05/riLZow4WMAPdYhe.png" alt="图片"></p>
<p><img src="https://s2.loli.net/2021/12/05/Ceci2QUPqDyVAu1.png" alt="图片"></p>
<p><img src="https://s2.loli.net/2021/12/05/yDPTKBWmQo43jv5.png" alt="图片"></p>
]]></content>
      <categories>
        <category>学习</category>
      </categories>
      <tags>
        <tag>WSN</tag>
        <tag>无线传感器网络</tag>
      </tags>
  </entry>
  <entry>
    <title>现代通信原理笔记</title>
    <url>/2023/032412074.html</url>
    <content><![CDATA[<h1 id="概论"><a href="#概论" class="headerlink" title="概论"></a>概论</h1><h2 id="信息及其度量"><a href="#信息及其度量" class="headerlink" title="信息及其度量"></a>信息及其度量</h2><h3 id="消息与信息"><a href="#消息与信息" class="headerlink" title="消息与信息"></a>消息与信息</h3><p><strong>消息</strong>：包含信息的事物</p>
<p><strong>信息</strong>：消息中包含的有效内容</p>
<p>信息具有不确定性</p>
<h3 id="信号"><a href="#信号" class="headerlink" title="信号"></a>信号</h3><p><strong>信号</strong>是消息的载体，是一种电波形</p>
<p>信号分为<strong>模拟信号</strong>（连续信号）和<strong>数字信号</strong>（离散信号）</p>
<h4 id="模拟信号"><a href="#模拟信号" class="headerlink" title="模拟信号"></a>模拟信号</h4><p>模拟信号占有频带一般都比较窄，其频带利用率较高，缺点是抗干扰能力差，不易保密，设备元器件不易大规模集成。</p>
<h4 id="数字信号"><a href="#数字信号" class="headerlink" title="数字信号"></a>数字信号</h4><p>比模拟信号占据更宽的系统频带</p>
<h5 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h5><p>1.抗干扰、抗噪声性能好</p>
<p>2.差错可控</p>
<p>3.易加密</p>
<p>4.数字通信设备和模拟通信设备相比，设计和制造更容易，体积更小，重量更轻</p>
<p>5.数字信号可以通过信源编码进行压缩，以减少冗余度，提高信道利用率。</p>
<p>6.易与现代技术相结合</p>
<h3 id="信息量"><a href="#信息量" class="headerlink" title="信息量"></a>信息量</h3><p>信息量与消息的种类、特定内容及重要程度无关，仅仅与消息中包含的不确定度有关。消息发生的概率越小，该消息包含的信息量越大。消息发生的概率趋近于0，则其信息量趋近于无穷大。</p>
<p>信息论中，消息所含的信息量I与消息X出现的概率P(x)的关系为：</p>
<p>$$<br>I&#x3D;{log_a{\frac1{P(x)}}}&#x3D;-{log_a{P(x)}}\<br>信息量的单位由对数底的取值决定\<br>a&#x3D;2时单位为“比特”\<br>a&#x3D;e时单位为“奈特”\<br>a&#x3D;10时单位为“哈特”\<br>通常采用“比特”作为信息量的实用单位<br>$$</p>
<p>I代表两种含义：当事件X发送以前，表示事件X发送的不确定性；当事件X发生以后，表示事件X所含有的信息量。</p>
<p>设离散信息源是一个由n个符号组成的集合，符号集中的每个字符Xi在消息中是按一定概率P(xi)独立出现的，又设符号集中各符号出现的概率为<br><img src="https://i.loli.net/2020/09/18/HXBSv46tu9WnDxG.png" alt="符号集中各符号出现的概率"><br>改变信源每个符号所含的信息量的统计平均值，即平均信息量为：<br><img src="https://i.loli.net/2020/09/18/kNjnmK9FcaD14xO.png" alt="平均信息量"></p>
<p>连续消息的信息量可以用概率密度来描述，可以证明连续消息的平均信息量（相对熵）为：<br><img src="https://i.loli.net/2020/09/18/NWtygFpTISUoqhV.png" alt="连续消息的平均信息量"><br>f(x)是连续消息出现的概率密度</p>
<h2 id="通信系统"><a href="#通信系统" class="headerlink" title="通信系统"></a>通信系统</h2><h3 id="通信系统基本模型"><a href="#通信系统基本模型" class="headerlink" title="通信系统基本模型"></a>通信系统基本模型</h3><p><img src="https://i.loli.net/2020/09/18/6sGpvS4tWlzIw89.png" alt="通信系统的基本模型">信源：将消息转换为原始电信号（基带信号）。<br>发送设备：将输入的电信号变成适合信道传输的形式（调制、滤波、放大、发射）包含信源编码和信道编码。<br>信道：将信号从发送设备向接收设备传送的物理媒质，包含有线信道和无线信道。<br>接收设备：从带干扰的接收信号中恢复出相应的原始电信号（解调、滤波、抑制噪声）。<br>受信者（信宿）：将原始电信号转换成为消息。</p>
<p><strong>信源编码</strong>：可分为压缩编码和保密编码，提高数字信号传输的有效性，信源编码器输出的是信息码元，<strong>话音</strong>和<strong>图像</strong>压缩编码都是信源编码器完成的<br><strong>信道编码</strong>（纠错编码）：提高数字信号传输的可靠性，其基本做法是在信息码组中按一定的规则附加一些监督码元，以使接收端根据相应的规则进行检错和纠错<br><strong>数字调制</strong>：将所传输的数字序列的频谱搬移到合适信道传输的频带范围内，使其适应信道传输的要求，基本的调制方式有幅移键控（ASK）、频移键控（FSK）和相移键控（PSK）<br><strong>加性干扰</strong>：噪声叠加在信号上<br><strong>乘性干扰</strong>：<strong>多径传播</strong>是一种是信号质量降低的干扰，多径传播是信号振幅随机起伏的现象称为<strong>衰落</strong>。将这种衰落称为乘性干扰或乘性噪声。</p>
<p>在接收设备端的原始电信号还能称为基带信号吗？不是，带有噪声</p>
<h3 id="通信方式"><a href="#通信方式" class="headerlink" title="通信方式"></a>通信方式</h3><h4 id="1-按信息传输的方向与时间关系划分通信方式"><a href="#1-按信息传输的方向与时间关系划分通信方式" class="headerlink" title="1.按信息传输的方向与时间关系划分通信方式"></a>1.按信息传输的方向与时间关系划分通信方式</h4><p>对于点对点之间的通信，按信息传送的方向与时间的关系，通信方式可分为单工通信，半双工通信及全双工通信<br>单工通信：广播、遥控、无线寻呼等<br>半双工通信：无线对讲机、收发报机等<br>全双工通信：电话、计算机网络通信等</p>
<p><img src="https://i.loli.net/2020/09/18/LuIPXo3K6DJkdN1.png" alt="通信方式示意图"></p>
<h4 id="2-按数字信号码元排列方式划分通信方式"><a href="#2-按数字信号码元排列方式划分通信方式" class="headerlink" title="2.按数字信号码元排列方式划分通信方式"></a>2.按数字信号码元排列方式划分通信方式</h4><p>在数字通信中按照数字码元排列顺序的方式不同，可将通信方式分为串行通信和并行通信。</p>
<p><img src="https://i.loli.net/2020/09/18/1qri29ZyIgY4uoV.png" alt="串并行通信方式"></p>
<h5 id="并行通信"><a href="#并行通信" class="headerlink" title="并行通信"></a>并行通信</h5><p>将代表信息的数字信号码元序列分割成两路或两路以上的数字信号序列同时在信道上传输。</p>
<p>优点：速度快、节省传输时间，但需占用频带宽，设备复杂，成本高，故较少采用，适用于短距离通信。</p>
<h5 id="串行通信"><a href="#串行通信" class="headerlink" title="串行通信"></a>串行通信</h5><p>将代表信息的数字信号码元序列按照时间顺序一个接一个地传输</p>
<p>适用于远距离传输</p>
<h4 id="3-按网络结构划分通信方式"><a href="#3-按网络结构划分通信方式" class="headerlink" title="3.按网络结构划分通信方式"></a>3.按网络结构划分通信方式</h4><p>线型、星型、树型、环形等等</p>
<h3 id="通信系统的分类"><a href="#通信系统的分类" class="headerlink" title="通信系统的分类"></a>通信系统的分类</h3><h4 id="1-按传输媒质分类"><a href="#1-按传输媒质分类" class="headerlink" title="1.按传输媒质分类"></a>1.按传输媒质分类</h4><p>有线通信系统和无线通信系统</p>
<h4 id="2-按信号的特征分"><a href="#2-按信号的特征分" class="headerlink" title="2.按信号的特征分"></a>2.按信号的特征分</h4><p>模拟通信系统和数字通信系统</p>
<h4 id="3-按工作频段分类"><a href="#3-按工作频段分类" class="headerlink" title="3.按工作频段分类"></a>3.按工作频段分类</h4><p>长波通信、中波通信、短波通信、微波通信</p>
<p><img src="https://i.loli.net/2020/09/18/hw6R9Vznq5vaC4g.png" alt="通信频段、常用传输媒质及主要用途"></p>
<p>工作波长和频率的换算公式为：</p>
<p>$$<br>\lambda&#x3D;\frac cf&#x3D;\frac{3x10^8}f\<br>其中\lambda为工作波长(m)，f为最高工作频率(Hz)，c为光速(m&#x2F;s)<br>$$</p>
<h4 id="4-按调制方式分类"><a href="#4-按调制方式分类" class="headerlink" title="4.按调制方式分类"></a>4.按调制方式分类</h4><p>基带传输系统和频带（调制）传输系统</p>
<h4 id="5-按通信业务类型分类"><a href="#5-按通信业务类型分类" class="headerlink" title="5.按通信业务类型分类"></a>5.按通信业务类型分类</h4><p>电报通信系统、电话通信系统、数据通信系统和图像通信系统</p>
<h4 id="6-按信号复用方式分类"><a href="#6-按信号复用方式分类" class="headerlink" title="6.按信号复用方式分类"></a>6.按信号复用方式分类</h4><p>频分复用（FDM）、时分复用（TDM）、码分复用（CDM）通信系统</p>
<h3 id="模拟通信系统"><a href="#模拟通信系统" class="headerlink" title="模拟通信系统"></a>模拟通信系统</h3><p>传输模拟信号的系统，在信道中传输模拟信号。</p>
<p><img src="https://i.loli.net/2020/09/18/KIcStB6ZNRGlQiy.png" alt="模拟通信系统的模型"><br>发信人的语音信息经过变换器转变成电信号（<strong>模拟信源</strong>），然后由调制器放大后在信道中传输<br>原始电信号（基带信号）进行调制是为了<strong>提高频带利用率</strong>，使多路信号同时在信道中传输。<br>在接收端，经过解调器和你变换器还原成语音信息。</p>
<h3 id="数字通信系统"><a href="#数字通信系统" class="headerlink" title="数字通信系统"></a>数字通信系统</h3><p><img src="https://i.loli.net/2020/09/18/j2UzF1kDsOgeHcn.png" alt="image-20200918110926136"><br><strong>数字频带传输通信系统</strong>：；利用数字信号来传递信息的通信系统，分为数字频带传输通信系统和数字基带传输通信系统。<br>数字通信系统有一个非常重要的控制单元：同步系统，可以使通信系统的收、发两端或整个通信系统，以精度很高的时钟提供定时，以使系统数据流能与发送端同步、有序而准确地接受和恢复原信息<br>变换器：将信息转换成数字基带信号</p>
<p><img src="https://i.loli.net/2020/09/18/hs3LjT6tBmb9AU4.png" alt="数字基带传输系统模型"><br><strong>数字基带传输通信系统</strong>：与频带传输通信系统对应，把没有调制&#x2F;解调器的数字通信系统称为数字基带传输通信系统<br>基带信号形成器：可能包含编码器、加密器以及波形变换等<br>接收滤波器：可能包含译码器、解密器等</p>
<h2 id="通信系统的性能指标"><a href="#通信系统的性能指标" class="headerlink" title="通信系统的性能指标"></a>通信系统的性能指标</h2><p>评价通信系统优劣的主要性能指标是系统的有效性和可靠性</p>
<p>有效性：指消息传输的“速度”问题<br>可靠性：指消息传输的“质量”问题</p>
<p>二者经常矛盾，反比</p>
<h3 id="模拟通信系统的性能指标"><a href="#模拟通信系统的性能指标" class="headerlink" title="模拟通信系统的性能指标"></a>模拟通信系统的性能指标</h3><p>模拟通信系统的有效性指标用所传信号的有效传输带宽来表征。当信道容许传输带宽一定，而进行多路频分复用时，每路信号所需的有效带宽越窄，信道内复用的路数越多</p>
<p><strong>信道复用的程度越高，信号传输的有效性越好</strong></p>
<p>信号的有效传输带宽与系统采用的调制方法有关</p>
<p>模拟通信系统的可靠性指标用整个通信系统的输出信噪比来衡量。信噪比是信号的平均功率S与噪声的平均功率N之比。<em>信噪比越高，说明噪声对信号的影响越小。显然，信噪比越高，通信质量就越好</em>。</p>
<p>输出信噪比一方面与信道内噪声的大小和信号的功率有关，同时又<em>和调制方式有很大关系</em>。例如宽带调频系统的有效性不如调幅系统，但是调频系统的可靠性往往比调幅系统好。</p>
<h3 id="数字通信系统的性能指标"><a href="#数字通信系统的性能指标" class="headerlink" title="数字通信系统的性能指标"></a>数字通信系统的性能指标</h3><h4 id="有效性指标"><a href="#有效性指标" class="headerlink" title="有效性指标"></a>有效性指标</h4><p>数字通信系统的有效性指标用传输速率和频带利用率来表征。</p>
<h5 id="传输速率"><a href="#传输速率" class="headerlink" title="传输速率"></a>传输速率</h5><p>传输速率有三种表示方式：</p>
<p>$$<br>码元传输速率R_B\信息传输速率R_b\消息速率R_M<br>$$</p>
<h6 id="码元传输速率"><a href="#码元传输速率" class="headerlink" title="码元传输速率"></a><strong>码元传输速率</strong></h6><p>简称传码率，又称符号速率等。它表示单位时间内传输码元的数目，单位是波特（Baud），记为B。<br>它表示单位时间内传输码元的数目，单位是波特（Baud），记为B。<br>例如，若1秒内传2400个码元，则传码率为2400B。<br>数字信号有多进制和二进制之分，但码元速率与进制数无关，只与传输的码元长度T有关</p>
<p><img src="https://i.loli.net/2020/10/02/lADQnE2KjhVryNU.png" alt="符号(码元)传输速率"></p>
<h6 id="信息传输速率"><a href="#信息传输速率" class="headerlink" title="信息传输速率"></a><strong>信息传输速率</strong></h6><p>简称传信率，又称比特率等。它是指系统每秒钟传送的信息量，单位是比特&#x2F;秒，常用符号“bit&#x2F;s、bps或b&#x2F;s”表示<br>它表示单位时间内传递的平均信息量或比特数</p>
<p>$$<br>在N进制下，设信息速率为R_b(bit&#x2F;s)，码元速率为R_{BN}(Baud)，由于每个码元或符号通常\都含有一定比特的信息量，因此码元速率和信息速率有确定的关系，即:\<br>R_b&#x3D;R_{BN}H(x)\ \ \ \ \ (bit&#x2F;s)\<br>式中，H(x)为信源中每个符号所含的平均信息量（熵）。当离散信源的每一符号等概率出现\时，熵有最大值为{log_2N}(bit&#x2F;符号),信息速率也达到最大，即：\<br>R_b&#x3D;R_{BN}{log_2N}\ (bit&#x2F;s)\<br>R_{BN}&#x3D;\frac{R_b}{log_2N}\ (Baud)<br>$$</p>
<h6 id="消息速率"><a href="#消息速率" class="headerlink" title="消息速率"></a><strong>消息速率</strong></h6><p>单位时间内传输的消息数目。例如，传输中文文件时，消息速率的单位是“字&#x2F;秒”</p>
<h6 id="码元速率与信息速率的关系"><a href="#码元速率与信息速率的关系" class="headerlink" title="码元速率与信息速率的关系"></a>码元速率与信息速率的关系</h6><p>每个码元或符号通常都含有一定bit数的信息量，因此码元速率和信息速率有确定的关系</p>
<p><img src="https://i.loli.net/2020/10/02/yPuq1p6LjRAflwv.png" alt="码元速率与信息速率的关系"></p>
<p>H为信源中每个符号所含的平均信息量（熵）<br><strong>M进制、等概率</strong>传输时，熵有最大值，信息速率也达到最大</p>
<p><img src="https://i.loli.net/2020/10/02/ZrAknGNFxgo9pj7.png" alt="![](https://i.loli.net/2020/10/02/ZrAknGNFxgo9pj7.png)"></p>
<p>码元速率为1200B<br>采用八进制（M&#x3D;8）时，信息速率为3600b&#x2F;s；<br>采用二进制（M&#x3D;2）时， 信息速率为1200b&#x2F;s，<br><em>二进制的码元速率和信息速率在数量上相等，有时简称它们为数码率。</em></p>
<h4 id="可靠性指标"><a href="#可靠性指标" class="headerlink" title="可靠性指标"></a>可靠性指标</h4><h5 id="错误率"><a href="#错误率" class="headerlink" title="错误率"></a>错误率</h5><p>衡量数字通信系统可靠性的指标是差错率， 常用误码率和误信率表示。<br>误码率（码元差错率Pe ）是指发生差错的码元数在传输总码元数中所占的比例，更确切地说，误码率是码元在传输系统中被传错的概率，即</p>
<p><img src="https://i.loli.net/2020/10/02/z6Wk1lIQCRxGocK.png" alt="误码率"></p>
<p>误信率（信息差错率Pb ）是指发生差错的比特数在传输总比特数中所占的比例， 即</p>
<p><img src="https://i.loli.net/2020/10/02/6AWBHUE1yjqcMTl.png" alt="误信率"></p>
<p>实际中分析误信率（二进制就是误码率），可用</p>
<p><img src="https://i.loli.net/2020/10/02/Dri6m3KL8IwaSPE.png" alt="实际中分析误信率"><br>Pe与Pb的关系：<br>二进制—— Pb&#x3D; Pe<br>M进制—— Pb&lt; Pe</p>
]]></content>
      <categories>
        <category>学习</category>
      </categories>
      <tags>
        <tag>现代通信原理</tag>
      </tags>
  </entry>
</search>
